{% extends "_root.html" %}


{% block customhead %}

{% endblock %}

{% block body %}
<H1 class="C-PINK" style="font-size: 5vw;">Sailor Moon {{ id_to_title(series_id) }} - Episode Reviews</H1>

{# gross switchy navbar... #}
<NAV style="font-size: 90%">
    {% if series_id == "classic" %}
    <SPAN class="C-PINK">Sailor Moon Classic</SPAN>
    {% else %}
    <A href="/reviews/classic/">Sailor Moon Classic</A>
    {% endif %}
    <I class="bi bi-arrow-right C-WHITE"></I>
    {% if series_id == "romance" %}
    <SPAN class="C-PINK">Sailor Moon R</SPAN>
    {% else %}
    <A href="/reviews/romance/">Sailor Moon R</A>
    {% endif %}
    <I class="bi bi-arrow-right C-WHITE"></I>
    {% if series_id == "super" %}
    <SPAN class="C-PINK">Sailor Moon S</SPAN>
    {% else %}
    <A href="/reviews/super/">Sailor Moon S</A>
    {% endif %}
    <I class="bi bi-arrow-right C-WHITE"></I>
    {% if series_id == "supers" %}
    <SPAN class="C-PINK">Sailor Moon SuperS</SPAN>
    {% else %}
    <A href="/reviews/supers/">Sailor Moon SuperS</A>
    {% endif %}
    <I class="bi bi-arrow-right C-WHITE"></I>
    {% if series_id == "stars" %}
    <SPAN class="C-PINK">Sailor Moon Sailor Stars</SPAN>
    {% else %}
    <A href="/reviews/stars/">Sailor Moon Sailor Stars</A>
    {% endif %}
</NAV>
<hr/>

<div class="C-WHITE BLEND">
{% block description %}
No series description provided.
{% endblock %}
</div>
<hr/>

<p>Average score: <SPAN id="score"></SPAN></p>

<TABLE STYLE="BACKGROUND-COLOR: WHITE" ID="THE-TABLE">
    <THEAD>
    <TR>
        <TH STYLE="TEXT-ALIGN: CENTER; BACKGROUND-COLOR: BLACK; COLOR: WHITE;">#</TH>
        <TH><SPAN STYLE="COLOR: HOTPINK">Title</SPAN></TH>
        <TH><SPAN STYLE="COLOR: GREEN">Preview Image</SPAN></TH>
        <TH STYLE="COLOR: FUCHSIA">Ratings</TH>
        <TH>Synopsis</TH>
        <TH>Review</TH>
        <TH>Recommendation</TH>
    </TR>
    </THEAD>
    <TBODY>
    {% set eps = episode_ranges(series_id) %}
    {% for ep in eps %}
    {% set s_num = "{:03d}".format(ep) %}
    {% set path = "reviews/" + series_id + "/ep" + s_num %}
    {% if file_exists(path) %}
    <TR ID="ROW-{{ s_num }}">
        {% include path + "/_table.html" %}
    </TR>
    {% endif %}
    {% endfor %}
    </TBODY>
</TABLE>
<hr/>
<A href="#">Jump to Top<A>
<hr/>

<SCRIPT>
// gotta start at 1 otherwise the first image is "swapped" in
let counter = 1;
setInterval(() => {
    for (const el of document.getElementsByClassName("IMAGE-ROTATION-CONTAINER")) {
        let selected = counter % el.children.length;
        for (const child of el.children) {
            child.classList.add("HIDDEN");
        }
        el.children[selected].classList.remove("HIDDEN");
    }
    counter += 1;
}, 2000);
</SCRIPT>

{% endblock %}
